user www-data;
worker_processes 4;
pid /run/nginx.pid;
daemon off;

include /etc/nginx/environment.conf;

events {
	worker_connections 768;
}

http {
	sendfile on;
	tcp_nopush on;
	tcp_nodelay on;
	keepalive_timeout 65;
	types_hash_max_size 2048;

	include /etc/nginx/mime.types;
	default_type application/octet-stream;

	access_log /var/log/nginx/access.log;
	error_log /var/log/nginx/error.log;

	passenger_root /usr/lib/ruby/vendor_ruby/phusion_passenger/locations.ini;
	passenger_ruby /usr/local/bin/ruby;

	server {
		listen 80 default_server;
		listen [::]:80 default_server;
		
		server_name _;

		root /www/public;

		index index.html;

		server_name _;

		client_max_body_size 75m;
		passenger_enabled on;
		passenger_friendly_error_pages on;
	}
}